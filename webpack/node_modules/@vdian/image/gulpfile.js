"use strict";

var gulp = require("gulp");
var uglify = require("gulp-uglify");
var concat = require("gulp-concat");
var rename = require("gulp-rename");
var webpack = require("webpack-stream");
var babel = require("gulp-babel");
var del = require("del");

gulp.task("build", function() {
    return gulp.src(["./src/*"])
        .pipe(webpack({
            entry: {
                index: "./src",
            },
            output: {
                filename: "index.js"
            }
        }))
        .pipe(babel())
        .pipe(uglify())
        .pipe(gulp.dest("dist"))
});
gulp.task('clean', function() {
    del.sync('dist');
});
gulp.task("watch", ["build","clean"], function() {
    gulp.watch(["src/*"], {debounceDelay:2000}, ["build"]);
});